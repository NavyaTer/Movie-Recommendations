import requests
import os.path

def save_details_json(id):
    details_name = f"./details-overview/{id}.txt"
    flag = os.path.isfile(details_name)
    if not flag:
        with open(details_name, 'w', encoding='utf-8') as file:
            overview_url = f"https://api.themoviedb.org/3/movie/{id}?api_key=<insert TMDB api-key here>&language=en-US"
            try:
                x_json = requests.get(overview_url).json()
                overview = x_json.get('overview', '')
                if overview == '':
                    print("empty overview for ", id)
                file.write(overview)
            except Exception as ex:
                print(ex)

list = [709.0,718.0,756.0,757.0,778.0,1085.0,1110.0,1118.0,1119.0,1132.0,1143.0,1287.0,1387.0,1400.0,1576.0,1676.0,1705.0,1717.0,1749.0,2146.0,2174.0,2186.0,2504.0,2766.0,3107.0,3958.0,5081.0,5469.0,5640.0,6844.0,7034.0,7371.0,8943.0,9320.0,9956.0,10613.0,11418.0,13362.0,13448.0,13505.0,13649.0,13751.0,13755.0,13845.0,14157.0,14503.0,14601.0,14757.0,14806.0,14976.0,15035.0,15080.0,15146.0,15290.0,15570.0,15622.0,15642.0,15643.0,15647.0,15714.0,15782.0,15854.0,16011.0,16256.0,16482.0,16561.0,16648.0,16881.0,16902.0,17023.0,17046.0,17124.0,17868.0,18125.0,18168.0,18353.0,18369.0,18479.0,18507.0,18888.0,18916.0,18937.0,18948.0,19005.0,19035.0,19119.0,19120.0,19168.0,19251.0,19291.0,19302.0,19412.0,19440.0,19457.0,19465.0,19509.0,19541.0,19641.0,19660.0,19672.0,19728.0,19851.0,19863.0,19956.0,20058.0,20112.0,20366.0,20501.0,20505.0,20601.0,20747.0,20823.0,20921.0,20950.0,21363.0,21487.0,21527.0,21674.0,21691.0,21870.0,21963.0,21977.0,21989.0,22122.0,22133.0,22180.0,22192.0,22250.0,22252.0,22253.0,22260.0,22263.0,22267.0,22331.0,22400.0,22401.0,22435.0,22499.0,22597.0,22651.0,22668.0,22704.0,22770.0,22818.0,23006.0,23168.0,23226.0,23280.0,23329.0,23451.0,23555.0,23583.0,23643.0,23677.0,23678.0,23703.0,23709.0,23834.0,23905.0,23926.0,24010.0,24077.0,24089.0,24122.0,24137.0,24209.0,24233.0,24423.0,24450.0,24476.0,24539.0,24549.0,24578.0,24646.0,24837.0,24843.0,24855.0,25029.0,25057.0,29740.0,37905.0]

for id in list:
    save_details_json(id)
